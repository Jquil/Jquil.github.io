{"version":3,"sources":["webpack:///src/views/Search.vue","webpack:///./src/views/Search.vue?946c","webpack:///./src/views/Search.vue"],"names":["cheerio","__webpack_require__","Search","name","data","key","json","methods","_search","_this","this","Object","base","then","res","filter","html","$","load","title","arr","i","length","temp","attribs","url","href","desc","children","tag","find","author","type","newestTime","newestChapter","pic","src","push","stringify_default","mounted","$route","query","watch","handler","to","search","views_Search","render","_h","$createElement","_self","_c","_v","_s","staticRenderFns","Component","normalizeComponent","__webpack_exports__"],"mappings":"0IAqBAA,EAAAC,EAAA,QACAC,GACAC,KAAA,SACAC,KAFA,WAGA,OACAC,IAAA,GACAC,KAAA,KAGAC,SACAC,QADA,SACAH,GAAA,IAAAI,EAAAC,KACYC,OAAAC,EAAA,EAAAD,CAAZN,GAAAQ,KAAA,SAAAC,GAAAL,EAAAM,OAAAD,EAAAV,SAEAW,OAJA,SAIAC,GAIA,IAHA,IAAAC,EAAAjB,EAAAkB,KAAAF,GACAG,EAAAF,EAAA,gCACAG,KACAC,EAAA,EAAAA,EAAAF,EAAAG,OAAAD,IAAA,CACA,IAAAE,KACAA,EAAAJ,MAAAF,EAAAE,EAAAE,IAAA,GAAAG,QAAAL,MACAI,EAAAE,IAAAR,EAAAE,EAAAE,IAAA,GAAAG,QAAAE,KACAH,EAAAI,KAAAV,EAAA,0BAAAI,GAAAO,SAAA,GAAAxB,KAEA,IACAyB,EAAAZ,EADAA,EAAA,0BAAAI,IACAS,KAAA,8BACAP,EAAAQ,OAAAF,EAAA,GAAAD,SAAA,GAAAA,SAAA,GAAAxB,KACAmB,EAAAS,KAAAH,EAAA,GAAAD,SAAA,GAAAA,SAAA,GAAAxB,KACAmB,EAAAU,WAAAJ,EAAA,GAAAD,SAAA,GAAAA,SAAA,GAAAxB,KACAmB,EAAAW,cAAAL,EAAA,GAAAD,SAAA,GAAAA,SAAA,GAAAxB,KACAmB,EAAAY,IAAAlB,EAAA,8BAAAI,GAAAO,SAAA,GAAAJ,QAAAY,IACAhB,EAAAiB,KAAAd,GAEAb,KAAAJ,KAAAgC,IAAAlB,KAGAmB,QAlCA,WAmCA,IAAAlC,EAAAK,KAAA8B,OAAAC,MAAApC,IACAK,KAAAL,MACAK,KAAAF,QAAAH,IAEAqC,OACAF,QACAG,QADA,SACAC,GACAlC,KAAAL,KAAAuC,EAAAH,MAAApC,MACAK,KAAAL,IAAAuC,EAAAH,MAAApC,IACAK,KAAAmC,OAAAnC,KAAAL,UC/DeyC,GADEC,OAFjB,WAA0B,IAAaC,EAAbtC,KAAauC,eAAkD,OAA/DvC,KAAuCwC,MAAAC,IAAAH,GAAwB,OAA/DtC,KAA+D0C,GAAA,SAA/D1C,KAA+D2C,GAA/D3C,KAA+DJ,MAAA,SAExEgD,oBCYjBC,EAdyBtD,EAAQ,OAcjCuD,CACEtD,EACA4C,GATF,EAEA,KAEA,KAEA,MAUeW,EAAA,QAAAF,EAAiB","file":"static/js/3.731c6404a03a48f322c5.js","sourcesContent":["<template>\r\n    <div>\r\n        {{ json }}\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n/** \r\n * url：/search?key=元\r\n * {\r\n        \"title\":\"帕弥什纪元\",\r\n        \"url\":\"/book/71384/\",\r\n        \"desc\":\"毒雾弥漫、生命垂危的最后一刻…凛终于看清了、他看清了绝对禁区中的那一片无底黑暗深渊——残缺的神像、碎裂的国徽、血染的白羽、崩坏的人脸、虚幻的灵魂……此时此刻似乎世间所有可见或不可见、有生命或无生命之物，都已在堙灭在这无尽暗渊之内彻底沦落为帕弥什病毒的初生温床……\",\r\n        \"author\":\"一叶十秋\",\r\n        \"type\":\"其他小说\",\r\n        \"newestTime\":\"2022-02-07 08:04:42\",\r\n        \"newestChapter\":\"2022-02-07 08:04:42\",\r\n        \"pic\":\"https://www.sobiquge.com/files/article/image/71/71384/71384s.jpg\"\r\n    }\r\n*/\r\nimport {search} from '@/api/base'\r\nconst cheerio = require('cheerio')\r\nexport default ({\r\n    name: 'Search',\r\n    data(){\r\n        return{\r\n            key:'',\r\n            json:''\r\n        }\r\n    },\r\n    methods:{\r\n        _search(key){\r\n            search(key).then(res => { this.filter(res.data) })\r\n        },\r\n        filter(html){\r\n            let $ = cheerio.load(html)\r\n            let title = $(\".result-game-item-title-link\")\r\n            let arr = []\r\n            for(let i = 0; i < title.length; i++){\r\n                let temp = {}\r\n                temp.title = $(title[i])[0].attribs.title\r\n                temp.url   = $(title[i])[0].attribs.href\r\n                temp.desc  = $('.result-game-item-desc')[i].children[0].data\r\n\r\n                let info = $(\".result-game-item-info\")[i]\r\n                let tag  = $(info).find('.result-game-item-info-tag')\r\n                temp.author        = tag[0].children[3].children[0].data\r\n                temp.type          = tag[1].children[3].children[0].data\r\n                temp.newestTime    = tag[2].children[3].children[0].data\r\n                temp.newestChapter = tag[2].children[3].children[0].data\r\n                temp.pic           = $('.result-game-item-pic-link')[i].children[1].attribs.src\r\n                arr.push(temp)\r\n            }\r\n            this.json = JSON.stringify(arr)\r\n        }\r\n    },\r\n    mounted(){\r\n        let key = this.$route.query.key\r\n        this.key = key\r\n        this._search(key)\r\n    },\r\n    watch: {\r\n        '$route':{\r\n            handler(to){\r\n                if(this.key != to.query.key){\r\n                    this.key = to.query.key\r\n                    this.search(this.key)\r\n                }\r\n            }\r\n        }\r\n    }\r\n})\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/Search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"\\n    \"+_vm._s(_vm.json)+\"\\n\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-35e151d4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Search.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35e151d4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Search.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
# Main

应用入口，通过TabBarView包含三个页面：

- HomePage

- BankPage

- SearchPage


# HomePage

主要实现以下功能：对歌单进行增删，以及“喜欢的歌手”

默认创建“喜欢的音乐”，并不可删除

存在三个数据表：

- tb_songlist_info
- tb_songlist_{si_id}
- tb_singer_fav

歌单信息表结构大致如下：tb_songlist_info
si_id - si_name


歌单表大致如下：tb_songlist_{si_id}
sl_id - song - musicrid - singer - album

歌手表结构大致如下：tb_singer_fav
sf_id - name - img - singer_id


# SearchPage

该Page实现搜索功能，以及显示热搜

存在一个数据表：tb_hotsearch，结构大致如下：
hs_id - hs_name

# BankPage

显示“官方版”的榜单

存在一个数据表：tb_bank，结构大致如下：
bk_id - bk_name - bk_sourceid


# BankListPage

显示榜单下的歌曲数据


# SearchListPage

显示搜索下的歌曲数据


# 底部音乐栏Widget

存在 歌曲图片 - 歌曲名称 - 歌手 - 播放暂停按钮

*这里的信息都是关联到SongProvider、SongStateProvider的

：后续加一个播放进度条


# 歌词LyricWidget

详情请看自定义Widget。


# Provider

添加三个Provider：

- SongProvider => 当前播放的音乐信息

- SongStateProvider => 当前歌曲状态（播放、暂停）

- SongProgressProvider => 当前歌曲播放进度

- SongQueueProvider => 播放音乐队列

# Shared-Preference

大致需要以下几个参数：

- Updatedate_hotsearch

- Updatedate_bank


# 播放音乐流程

当点击音乐后，大致执行流程如下：

1. 更新SongProvider

2. 更新SongQueueProvider

3. AudioPlayers.play()后，监听播放，更新SongProgressProvider

4. 点击（播放/暂停）按钮，更新SongStateProvider，并调用AudioPlayers对应方法

# 存在问题

1. 下拉加载：先显示“LoadedAll”，然后才“Loading”，且“maxSize”不起作用

2. 底部播放栏，文字超出没有截断

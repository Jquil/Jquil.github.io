webpackJsonp([1],{Ab9A:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Gu7T"),n=i.n(a),s=i("7+uW"),r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("span",{staticClass:"header-tag"},[t._v("Jqwong's Blog")]),t._v(" "),i("nav",{staticClass:"header-nav"},[i("ul",[i("li",[i("router-link",{attrs:{to:"/"}},[t._v("主页")])],1),t._v(" "),i("li",[i("router-link",{attrs:{to:"/article"}},[t._v("文章")])],1),t._v(" "),i("li",[i("router-link",{attrs:{to:"/note"}},[t._v("日志")])],1),t._v(" "),i("li",[i("router-link",{attrs:{to:"/question"}},[t._v("问题")])],1)])]),t._v(" "),"article"==this.$route.name||"search"==this.$route.name?i("div",{staticClass:"box-search"},[i("input",{ref:"inputSearch",staticClass:"input-search",attrs:{type:"text"}}),t._v(" "),i("img",{staticClass:"ico-search",attrs:{src:"/static/img/search.svg"},on:{click:function(e){return t.search()}}})]):t._e()])},staticRenderFns:[]};var o={name:"App",components:{Header:i("VU/8")({name:"Header",data:function(){return{lastKey:"",lastType:""}},methods:{search:function(){var t=this.$refs.inputSearch.value;""!=t&&(this.lastKey=t,"search"!=this.$route.name&&(this.lastType=this.$route.name),this.$router.push({name:"search",query:{key:t,type:this.lastType}}))}}},r,!1,function(t){i("rlXY")},"data-v-3fdff2b8",null).exports},data:function(){return{lastLoadTime:0,loadTimer:1500,showDistance:500}},methods:{listenScroll:function(){var t=document.documentElement.scrollTop||document.body.scrollTop,e=document.documentElement.clientHeight,i=document.documentElement.scrollHeight,a=Math.abs(i-parseInt(t+e));t>this.showDistance?this.$refs.btnTop.className="btn-top ani-show":"btn-top ani-show"==this.$refs.btnTop.className&&(this.$refs.btnTop.className="btn-top ani-hide");if(a>=0&&a<=3){var n=(new Date).getTime();if(n-this.lastLoadTime<this.loadTimer)return;this.lastLoadTime=n,this.$refs.routerView.$emit("inBottom")}},toTop:function(){window.scrollTo(0,0)}},created:function(){window.addEventListener("scroll",this.listenScroll)},mounted:function(){this.$Lazyload.$on("loaded",function(t){t.el.style.opacity=1})}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{attrs:{id:"box"}},[e("Header",{ref:"header"}),this._v(" "),e("router-view",{ref:"routerView"}),this._v(" "),e("span",{ref:"btnTop",staticClass:"btn-top",on:{click:this.toTop}},[e("img",{attrs:{src:"https://www.bing.com/rp/40v_8ICVNhTxh8rPXMkL6ngx2kM.svg"}}),this._v("\n      回到顶部\n    ")])],1)])},staticRenderFns:[]};var l=i("VU/8")(o,c,!1,function(t){i("SSSn")},null,null).exports,d=i("/ocq"),h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer"},[e("span",{staticClass:"tag"},[this._v("Jqwong | 粤ICP备20067248号")])])}]};var u={name:"Index",components:{Footer:i("VU/8")(null,h,!1,function(t){i("wqiN")},"data-v-f5498cc2",null).exports},data:function(){return{headerHeight:0,footerHeight:0}},computed:{height:function(){return this.$store.state.index.height}},mounted:function(){0==this.height&&0==this.headerHeight&&0==this.footerHeight&&this.getHeight()},methods:{getHeight:function(){this.headerHeight=this.$parent.$refs.header.$el.clientHeight,this.footerHeight=this.$refs.footer.$el.clientHeight;var t=window.innerHeight-this.headerHeight-this.footerHeight;this.$store.commit("setHeight",t)}}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index"},[0!=t.height?i("div",{staticClass:"info",style:{height:t.height+"px"}},[i("img",{staticClass:"avatar",attrs:{src:"/static/img/avatar.svg"}}),t._v(" "),i("span",{staticClass:"tag"},[t._v("人生哪有多如意，万事但求半称心。")]),t._v(" "),t._m(0)]):t._e(),t._v(" "),i("Footer",{ref:"footer"})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"link"},[e("a",{attrs:{href:"https://github.com/Jquil"}},[e("img",{attrs:{src:"/static/img/github.svg"}})]),this._v("\n               \n            "),e("a",{attrs:{href:"mailto:835292266@qq.com"}},[e("img",{attrs:{src:"/static/img/mail.svg"}})])])}]};var f=i("VU/8")(u,m,!1,function(t){i("eEkt")},"data-v-3daa81c0",null).exports,g={props:{loading:Boolean,loaded:Boolean,error:Boolean,empty:Boolean}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"state"},[t.loading?i("span",{staticClass:"loading"},[i("img",{attrs:{src:"/static/img/loading.gif"}}),t._v("\n        数据加载中...\n    ")]):t._e(),t._v(" "),t.loaded?i("span",{staticClass:"loaded"},[i("img",{attrs:{src:"/static/img/success.svg"}}),t._v("\n        已全部加载完成~\n    ")]):t._e(),t._v(" "),t.empty?i("span",{staticClass:"empty"},[i("img",{attrs:{src:"/static/img/null.svg"}}),t._v("\n        没有找到数据~\n    ")]):t._e(),t._v(" "),t.error?i("span",{staticClass:"error"},[i("img",{attrs:{src:"/static/img/error.svg"}}),t._v("\n        发生未知错误...\n    ")]):t._e()])},staticRenderFns:[]};var v=i("VU/8")(g,p,!1,function(t){i("S6wu")},"data-v-320342db",null).exports,_={name:"Article",components:{StateComponent:v},computed:{data:{get:function(){return this.$store.state.article.data}},length:function(){return this.$store.state.article.length},loading:function(){return this.$store.state.article.loading},loaded:function(){return this.$store.state.article.loaded}},methods:{initJsonData:function(){var t=this,e=Date.parse(new Date);this.$axios.get("/static/data/article.json?s="+e).then(function(e){t.$store.commit("setArticleData",e.data),t.loadData()}).catch(function(t){console.log(t)})},addData:function(t){this.$store.commit("addArticleData",t)},loadData:function(){var t=this;this.$store.dispatch("loadArticleData").then(function(e){t.addData(e)})}},created:function(){0==this.length&&this.initJsonData()},mounted:function(){var t=this;this.$on("inBottom",function(){t.loadData()})}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"info"},t._l(t.data,function(e){return i("div",{key:e.fileId,staticClass:"item"},[i("span",{staticClass:"title"},[i("router-link",{attrs:{to:{name:"article-detail",params:{id:e.fileId},query:{q:encodeURIComponent(e.title)}}}},[t._v(t._s(e.title))])],1),t._v(" "),i("span",{staticClass:"sub-title"},[t._v(t._s(e.subTitle))]),t._v(" "),i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imgUrl,expression:"item.imgUrl"}],staticClass:"bg"}),t._v(" "),i("div",{staticClass:"desc"},[i("div",{staticClass:"tag"},t._l(e.tag,function(e){return i("span",{key:e},[t._v(t._s(e))])}),0),t._v(" "),i("span",{staticClass:"date"},[t._v(t._s(e.date))])]),t._v(" "),i("span",{staticClass:"hr"})])}),0),t._v(" "),i("StateComponent",{attrs:{loading:t.loading,loaded:t.loaded}})],1)},staticRenderFns:[]};var $=i("VU/8")(_,y,!1,function(t){i("Xx/x")},"data-v-693d9a2a",null).exports,C=i("EFqf"),w=i.n(C),x={data:function(){return{html:""}},methods:{compile:function(t){var e=w()(this.$parent.md);this.html=e},setPicClickListener:function(){var t=document.getElementById("modal"),e=document.getElementById("modalBg"),i=document.getElementById("modalPic");document.getElementById("write").querySelectorAll("img").forEach(function(a){a.onclick=function(){t.style.display="flex",e.style.background="#dadada",i.setAttribute("src",this.getAttribute("src"))}})},closePic:function(){this.$refs.modal.style.display="none"}},updated:function(){for(var t=document.querySelectorAll("pre"),e=0;e<t.length;e++)hljs.highlightBlock(t[e]),hljs.lineNumbersBlock(t[e].querySelector("code"));for(var i=document.querySelectorAll("table"),a=0;a<i.length;a++)""==i[a].className&&(i[a].className="default-tb");this.setPicClickListener()},mounted:function(){var t=this;this.$on("getted",function(){t.compile(t.$parent.md)}),this.compile(this.$parent.md)}},S={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"modal",staticClass:"fixedAll",attrs:{id:"modal"},on:{click:function(e){return t.closePic()}}},[i("img",{attrs:{src:"",id:"modalPic"}}),t._v(" "),i("div",{staticClass:"fixedAll",attrs:{id:"modalBg"}})]),t._v(" "),i("div",{attrs:{id:"write"},domProps:{innerHTML:t._s(t.html)}})])},staticRenderFns:[]};var A=i("VU/8")(x,S,!1,function(t){i("c6Ey"),i("YdFA")},"data-v-485053fe",null).exports,q={components:{Show:A,StateComponent:v},data:function(){return{title:"",md:"",loading:!1,error:!1,empty:!1}},methods:{getInfo:function(){var t=this.$route.params.id;this.title=decodeURIComponent(this.$route.query.q),this.loadMD(t)},loadMD:function(t){var e=this;this.loading=!0;var i=t+".md?q="+(new Date).getTime();this.$axios.get("https://md.jqwong.cn/technology/"+i).then(function(t){e.md=t.data,e.$refs.show.$emit("getted"),e.loading=!1}).catch(function(t){console.log(t),e.loading=!1,e.error=!0})}},created:function(){this.getInfo()}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[t.error?t._e():i("span",{staticClass:"title"},[t._v(" "+t._s(t.title))]),t._v(" "),t.error?t._e():i("Show",{ref:"show"}),t._v(" "),i("StateComponent",{attrs:{loading:t.loading,error:t.error,empty:t.empty}})],1)},staticRenderFns:[]};var D=i("VU/8")(q,b,!1,function(t){i("l5xA")},"data-v-2bbecf9e",null).exports,k={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"note"},[e("br"),e("span",{staticClass:"tip-warn"},[this._v("不好意思，暂未开放~")])])}]};var E=i("VU/8")(null,k,!1,function(t){i("yqrN")},"data-v-11c9f11a",null).exports,H={components:{Show:A,StateComponent:v},data:function(){return{liHeight:35,countHeight:0,loading:!1,error:!1}},computed:{data:function(){return this.$store.state.question.data},current:function(){return this.$store.state.question.current},md:function(){return this.$store.state.question.md}},methods:{show:function(){this.countHeight=0==this.countHeight?this.liHeight*this.$refs.list.children.length:0},change:function(t){this.$store.commit("setCurrentQuestion",this.data[t-1]),this.loadMd(t),this.show()},initJsonData:function(){var t=this;this.$axios.get("/static/data/question.json?s="+(new Date).getTime()).then(function(e){t.$store.commit("setQuestionData",e.data),t.loadMd(t.current.id)}).catch(function(t){console.log(t)})},loadMd:function(t){var e=this,i=t+".md?q="+(new Date).getTime();this.error=!1,this.loading=!0,this.$axios.get("https://md.jqwong.cn/question/"+i).then(function(t){e.loading=!1,e.$store.commit("setQuestionMD",t.data),e.$refs.show.$emit("getted")}).catch(function(t){console.log(t),e.loading=!1,e.error=!0})}},created:function(){0==this.data.length&&this.initJsonData()}},T={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[i("span",{staticClass:"title",on:{click:t.show}},[t._v(t._s(t.current.tag))]),t._v(" "),i("nav",{staticClass:"type"},[i("ul",{ref:"list",style:{height:t.countHeight+"px"}},t._l(t.data,function(e){return i("li",{key:e.id,style:{height:t.liHeight+"px"},on:{click:function(i){return t.change(e.id)}}},[t._v(t._s(e.tag))])}),0)]),t._v(" "),i("StateComponent",{attrs:{loading:t.loading,error:t.error}}),t._v(" "),t.error?t._e():i("Show",{ref:"show"})],1)},staticRenderFns:[]};var I=i("VU/8")(H,T,!1,function(t){i("Vboq")},"data-v-82621db0",null).exports,U={name:"Search",components:{StateComponent:v},data:function(){return{tag_article:"article",tag_note:"note",key:"",type:"",page:0,loading:!1,loaded:!1,empty:!1,error:!1,itemSize:20,filterArr:[],showArr:[],reg:{}}},computed:{data_article:{get:function(){return this.$store.state.article.allData}}},methods:{handle:function(){switch(this.type){case"article":this.searchByArticle()}},searchByArticle:function(){var t=this;this.reg=new RegExp(this.key,"i"),this.data_article.forEach(function(e){t.reg.test(e.title)&&t.filterArr.push(e)})},load:function(){var t=this;if(!(this.loaded||this.error||this.empty)){this.loading=!0;var e=this.page*this.itemSize,i=e+this.itemSize>this.filterArr.length?this.filterArr.length:e+this.itemSize;this.filterArr.slice(e,i).forEach(function(e){var i=e.title.replace(t.reg,function(t){return'<span style="color:orangered;">'+t+"</span>"});t.showArr.push({title:i,default:e.title,imgUrl:e.imgUrl,fileId:e.fileId,date:e.date,type:t.type})}),this.page++,this.loading=!1,i==this.filterArr.length&&(this.loaded=!0)}},reset:function(){this.filterArr=[],this.showArr=[],this.loading=!1,this.loaded=!1,this.empty=!1,this.error=!1,this.page=0},init:function(){this.key=this.$route.query.key,this.type=this.$route.query.type,this.handle(),0==this.filterArr.length?this.empty=!0:this.load()}},mounted:function(){var t=this;this.init(),this.$on("inBottom",function(){t.load()})},watch:{$route:function(t,e){this.reset(),this.init()}}},B={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[t._l(t.showArr,function(e){return i("div",{key:e.fileId,staticClass:"item"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imgUrl,expression:"item.imgUrl"}],staticClass:"bg"}),t._v(" "),e.type==t.tag_article?i("router-link",{attrs:{to:{name:"article-detail",params:{id:e.fileId},query:{q:encodeURIComponent(e.default)}}}},[i("span",{staticClass:"title",domProps:{innerHTML:t._s(e.title)}})]):t._e(),t._v(" "),i("span",{staticClass:"date"},[t._v(t._s(e.date))])],1)}),t._v(" "),i("StateComponent",{attrs:{loading:t.loading,loaded:t.loaded,empty:t.empty}})],2)},staticRenderFns:[]};var z=i("VU/8")(U,B,!1,function(t){i("Ab9A")},"data-v-1bacd7cf",null).exports;s.a.use(d.a);var F=new d.a({routes:[{path:"/",name:"index",component:f},{path:"/article",name:"article",component:$},{path:"/article/:id",name:"article-detail",component:D},{path:"/note",name:"note",component:E},{path:"/question",name:"question",component:I},{path:"/search",name:"search",component:z}]}),N=i("NYxO"),V=i("mtWM"),R=i.n(V),M=i("AXdl");s.a.use(N.a),s.a.use(M.a),s.a.prototype.$axios=R.a,s.a.config.productionTip=!1,s.a.use(M.a,{preLoad:1.3,error:"/static/default.png",loading:"/static/default.png",attempt:1});var L={state:{data:[],length:0,allData:[],maxSize:0,itemSize:20,page:0,loading:!1,loaded:!1},mutations:{setArticleData:function(t,e){t.allData=e.data,t.maxSize=t.allData.length},addArticleData:function(t,e){var i;(i=t.data).push.apply(i,n()(e)),t.length=t.data.length}},actions:{loadArticleData:function(t){if(!t.state.loaded){t.state.loading=!0;var e=t.state.page*t.state.itemSize,i=e+t.state.itemSize;i=i>t.state.maxSize?t.state.maxSize:i;var a=t.state.allData.slice(e,i);return t.state.loading=!1,i==t.state.maxSize&&(t.state.loaded=!0),t.state.page++,a}},loadArticleInfo:function(t,e){return t.state.allData.filter(function(t){return parseInt(t.fileId)==e})}}},P=new N.a.Store({modules:{index:{state:{height:0},mutations:{setHeight:function(t,e){t.height=e}}},article:L,question:{state:{data:[],current:{},md:""},mutations:{setQuestionData:function(t,e){t.data=e.data,t.current=e.data[0]},setCurrentQuestion:function(t,e){t.current=e},setQuestionMD:function(t,e){t.md=e}}}}});new s.a({el:"#app",router:F,store:P,components:{App:l},template:"<App/>"})},S6wu:function(t,e){},SSSn:function(t,e){},Vboq:function(t,e){},"Xx/x":function(t,e){},YdFA:function(t,e){},c6Ey:function(t,e){},eEkt:function(t,e){},l5xA:function(t,e){},rlXY:function(t,e){},wqiN:function(t,e){},yqrN:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d4f3e2f9dde0d0b2ce36.js.map
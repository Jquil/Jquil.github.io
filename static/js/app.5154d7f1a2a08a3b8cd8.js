webpackJsonp([1],{"5tAR":function(t,e){},"8NJY":function(t,e){},GYuU:function(t,e){},MY6e:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Gu7T"),n=a.n(i),s=a("7+uW"),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("span",{staticClass:"header-tag"},[t._v("Jqwong's Blog")]),t._v(" "),a("nav",{staticClass:"header-nav"},[a("ul",[a("li",[a("router-link",{attrs:{to:"/"}},[t._v("主页")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/article"}},[t._v("文章")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/note"}},[t._v("日志")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/question"}},[t._v("问题")])],1)])]),t._v(" "),"article"==this.$route.name||"search"==this.$route.name?a("div",{staticClass:"box-search"},[a("input",{ref:"inputSearch",staticClass:"input-search",attrs:{type:"text"}}),t._v(" "),a("img",{staticClass:"ico-search",attrs:{src:"/static/img/search.svg"},on:{click:function(e){return t.search()}}})]):t._e()])},staticRenderFns:[]};var o={name:"App",components:{Header:a("VU/8")({name:"Header",methods:{search:function(){var t=this.$refs.inputSearch.value;""!=t&&this.$router.push({name:"search",query:{key:t,type:this.$route.name}})}}},r,!1,function(t){a("UJV0")},"data-v-98f7e7aa",null).exports},data:function(){return{lastLoadTime:0,loadTimer:1500,showDistance:500}},methods:{listenScroll:function(){var t=document.documentElement.scrollTop||document.body.scrollTop,e=document.documentElement.clientHeight,a=document.documentElement.scrollHeight,i=Math.abs(a-parseInt(t+e));t>this.showDistance?this.$refs.btnTop.className="btn-top ani-show":"btn-top ani-show"==this.$refs.btnTop.className&&(this.$refs.btnTop.className="btn-top ani-hide");if(i>=0&&i<=3){var n=(new Date).getTime();if(n-this.lastLoadTime<this.loadTimer)return;this.lastLoadTime=n,this.$refs.routerView.$emit("inBottom")}},toTop:function(){window.scrollTo(0,0)}},created:function(){window.addEventListener("scroll",this.listenScroll)}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{attrs:{id:"box"}},[e("Header",{ref:"header"}),this._v(" "),e("router-view",{ref:"routerView"}),this._v(" "),e("span",{ref:"btnTop",staticClass:"btn-top",on:{click:this.toTop}},[e("img",{attrs:{src:"/static/img/top.svg"}})])],1)])},staticRenderFns:[]};var l=a("VU/8")(o,c,!1,function(t){a("GYuU")},null,null).exports,d=a("/ocq"),h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer"},[e("span",{staticClass:"tag"},[this._v("Jqwong | 粤ICP备20067248号")])])}]};var u={name:"Index",components:{Footer:a("VU/8")(null,h,!1,function(t){a("wqiN")},"data-v-f5498cc2",null).exports},computed:{height:function(){return this.$store.state.index.height}},mounted:function(){0==this.height&&this.getHeight()},methods:{getHeight:function(){var t=window.innerHeight-this.$parent.$refs.header.$el.clientHeight-this.$refs.footer.$el.clientHeight;this.$store.commit("setHeight",t)}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[0!=t.height?a("div",{staticClass:"info",style:{height:t.height+"px"}},[a("img",{staticClass:"avatar",attrs:{src:"/static/img/avatar.svg"}}),t._v(" "),a("span",{staticClass:"tag"},[t._v("人生哪有多如意，万事但求半称心。")]),t._v(" "),t._m(0)]):t._e(),t._v(" "),a("Footer",{ref:"footer"})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"link"},[e("a",{attrs:{href:"https://github.com/Jquil"}},[e("img",{attrs:{src:"/static/img/github.svg"}})]),this._v("\n               \n            "),e("a",{attrs:{href:"mailto:835292266@qq.com"}},[e("img",{attrs:{src:"/static/img/mail.svg"}})])])}]};var f=a("VU/8")(u,m,!1,function(t){a("MY6e")},"data-v-54797a02",null).exports,g={props:{loading:Boolean,loaded:Boolean,error:Boolean,empty:Boolean}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"state"},[t.loading?a("span",{staticClass:"loading"},[a("img",{attrs:{src:"/static/img/loading.gif"}}),t._v("\n        数据加载中...\n    ")]):t._e(),t._v(" "),t.loaded?a("span",{staticClass:"loaded"},[a("img",{attrs:{src:"/static/img/success.svg"}}),t._v("\n        已全部加载完成~\n    ")]):t._e(),t._v(" "),t.empty?a("span",{staticClass:"empty"},[a("img",{attrs:{src:"/static/img/null.svg"}}),t._v("\n        没有找到数据~\n    ")]):t._e(),t._v(" "),t.error?a("span",{staticClass:"error"},[a("img",{attrs:{src:"/static/img/error.svg"}}),t._v("\n        发生未知错误...\n    ")]):t._e()])},staticRenderFns:[]};var v=a("VU/8")(g,p,!1,function(t){a("S6wu")},"data-v-320342db",null).exports,_={name:"Article",components:{StateComponent:v},computed:{data:{get:function(){return this.$store.state.article.data}},length:function(){return this.$store.state.article.length},loading:function(){return this.$store.state.article.loading},loaded:function(){return this.$store.state.article.loaded}},methods:{initJsonData:function(){var t=this,e=Date.parse(new Date);this.$axios.get("/static/data/article.json?s="+e).then(function(e){t.$store.commit("setArticleData",e.data),t.loadData()}).catch(function(t){console.log(t)})},addData:function(t){this.$store.commit("addArticleData",t)},loadData:function(){var t=this;this.$store.dispatch("loadArticleData").then(function(e){t.addData(e)})}},created:function(){0==this.length&&this.initJsonData()},mounted:function(){var t=this;this.$on("inBottom",function(){t.loadData()}),this.$Lazyload.$on("loaded",function(t){t.el.style.opacity=1})}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"info"},t._l(t.data,function(e){return a("div",{key:e.fileId,staticClass:"item"},[a("span",{staticClass:"title"},[a("router-link",{attrs:{to:{name:"article-detail",params:{id:e.fileId}}}},[t._v(t._s(e.title))])],1),t._v(" "),a("span",{staticClass:"sub-title"},[t._v(t._s(e.subTitle))]),t._v(" "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imgUrl,expression:"item.imgUrl"}],staticClass:"bg"}),t._v(" "),a("div",{staticClass:"desc"},[a("div",{staticClass:"tag"},t._l(e.tag,function(e){return a("span",{key:e},[t._v(t._s(e))])}),0),t._v(" "),a("span",{staticClass:"date"},[t._v(t._s(e.date))])]),t._v(" "),a("span",{staticClass:"hr"})])}),0),t._v(" "),a("StateComponent",{attrs:{loading:t.loading,loaded:t.loaded}})],1)},staticRenderFns:[]};var $=a("VU/8")(_,y,!1,function(t){a("Yghb")},"data-v-39c5155e",null).exports,w=a("EFqf"),C=a.n(w),A={data:function(){return{html:""}},methods:{compile:function(t){var e=C()(this.$parent.md);this.html=e},setPicClickListener:function(){var t=document.getElementById("modal"),e=document.getElementById("modalBg"),a=document.getElementById("modalPic");document.getElementById("write").querySelectorAll("img").forEach(function(i){i.onclick=function(){t.style.display="flex",e.style.background="#dadada",a.setAttribute("src",this.getAttribute("src"))}})},closePic:function(){this.$refs.modal.style.display="none"}},updated:function(){for(var t=document.querySelectorAll("pre"),e=0;e<t.length;e++)hljs.highlightBlock(t[e]),hljs.lineNumbersBlock(t[e].querySelector("code"));for(var a=document.querySelectorAll("table"),i=0;i<a.length;i++)""==a[i].className&&(a[i].className="default-tb");this.setPicClickListener()},mounted:function(){var t=this;this.$on("getted",function(){t.compile(t.$parent.md)}),this.compile(this.$parent.md)}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"modal",staticClass:"fixedAll",attrs:{id:"modal"},on:{click:function(e){return t.closePic()}}},[a("img",{attrs:{src:"",id:"modalPic"}}),t._v(" "),a("div",{staticClass:"fixedAll",attrs:{id:"modalBg"}})]),t._v(" "),a("div",{attrs:{id:"write"},domProps:{innerHTML:t._s(t.html)}})])},staticRenderFns:[]};var q=a("VU/8")(A,x,!1,function(t){a("c6Ey"),a("YdFA")},"data-v-485053fe",null).exports,D={components:{Show:q,StateComponent:v},data:function(){return{title:"",md:"",loading:!1,error:!1}},methods:{getInfo:function(t){var e=this;this.$store.dispatch("loadArticleInfo",t).then(function(a){0==a.length?e.empty=!0:(e.title=a[0].title,e.loadMD(t))})},loadMD:function(t){var e=this;this.loading=!0;var a=t+".md?q="+(new Date).getTime();this.$axios.get("https://md.jqwong.cn/technology/"+a).then(function(t){e.md=t.data,e.$refs.show.$emit("getted"),e.loading=!1}).catch(function(t){console.log(t),e.loading=!1,e.error=!0})}},created:function(){this.getInfo(this.$route.params.id)}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t.error?t._e():a("span",{staticClass:"title"},[t._v(" "+t._s(t.title))]),t._v(" "),t.error?t._e():a("Show",{ref:"show"}),t._v(" "),a("StateComponent",{attrs:{loading:t.loading,error:t.error}})],1)},staticRenderFns:[]};var k=a("VU/8")(D,S,!1,function(t){a("8NJY")},"data-v-e16c02d4",null).exports,b={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"note"},[e("br"),e("span",{staticClass:"tip-warn"},[this._v("不好意思，暂未开放~")])])}]};var E=a("VU/8")(null,b,!1,function(t){a("yqrN")},"data-v-11c9f11a",null).exports,H={components:{Show:q},data:function(){return{liHeight:35,countHeight:0}},computed:{data:function(){return this.$store.state.question.data},current:function(){return this.$store.state.question.current},md:function(){return this.$store.state.question.md}},methods:{show:function(){this.countHeight=0==this.countHeight?this.liHeight*this.$refs.list.children.length:0},change:function(t){this.$store.commit("setCurrentQuestion",this.data[t-1]),this.loadMd(t),this.show()},initJsonData:function(){var t=this;this.$axios.get("/static/data/question.json?s="+(new Date).getTime()).then(function(e){t.$store.commit("setQuestionData",e.data),t.loadMd(t.current.id)}).catch(function(t){console.log(t)})},loadMd:function(t){var e=this,a=t+".md";this.$axios.get("https://md.jqwong.cn/question/"+a).then(function(t){e.$store.commit("setQuestionMD",t.data),e.$refs.show.$emit("getted")}).catch(function(t){console.log(t)})}},created:function(){0==this.data.length&&this.initJsonData()}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("span",{staticClass:"title",on:{click:t.show}},[t._v(t._s(t.current.tag))]),t._v(" "),a("nav",{staticClass:"type"},[a("ul",{ref:"list",style:{height:t.countHeight+"px"}},t._l(t.data,function(e){return a("li",{key:e.id,style:{height:t.liHeight+"px"},on:{click:function(a){return t.change(e.id)}}},[t._v(t._s(e.tag))])}),0)]),t._v(" "),a("Show",{ref:"show"})],1)},staticRenderFns:[]};var I=a("VU/8")(H,T,!1,function(t){a("w+Im")},"data-v-2f28ed59",null).exports,U={name:"Search",components:{StateComponent:v},data:function(){return{key:"",type:"",page:0,loading:!1,loaded:!1,empty:!1,error:!1,itemSize:20,filterArr:[],showArr:[],reg:{}}},computed:{data_article:{get:function(){return this.$store.state.article.allData}}},methods:{handle:function(){switch(this.type){case"article":this.searchByArticle()}},searchByArticle:function(){var t=this;this.reg=new RegExp(this.key,"i"),this.data_article.forEach(function(e){t.reg.test(e.title)&&t.filterArr.push(e)}),this.load()},load:function(){var t=this;if(!(this.loaded||this.error||this.empty)){this.loading=!0;var e=this.page*this.itemSize,a=e+this.itemSize>this.filterArr.length?this.filterArr.length:e+this.itemSize;this.filterArr.slice(e,a).forEach(function(e){var a=e.title.replace(t.reg,function(t){return'<span style="color:orangered;">'+t+"</span>"});t.showArr.push({title:a,imgUrl:e.imgUrl,fileId:e.fileId,date:e.date,type:"article"})}),this.page++,this.loading=!1,a==this.filterArr.length&&(this.loaded=!0),1==this.page&&0==this.filterArr.length&&(this.empty=!0)}},reset:function(){this.filterArr=[],this.showArr=[],this.loading=!1,this.loaded=!1,this.empty=!1,this.error=!1,this.page=0}},created:function(){this.key=this.$route.query.key,this.type=this.$route.query.type,this.handle()},mounted:function(){var t=this;0==this.filterArr.length&&(this.reset(),this.empty=!0),this.$on("inBottom",function(){t.load()})},watch:{$route:function(t,e){e.query.key!=t.query.key&&(this.type="search"==t.query.type?e.query.type:t.query.type,this.key=t.query.key,this.reset(),this.handle())}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._l(t.showArr,function(e){return a("div",{key:e.fileId,staticClass:"item"},[a("img",{staticClass:"bg",attrs:{src:e.imgUrl}}),t._v(" "),"article"==e.type?a("router-link",{attrs:{to:{name:"article-detail",params:{id:e.fileId}}}},[a("span",{staticClass:"title",domProps:{innerHTML:t._s(e.title)}})]):t._e(),t._v(" "),a("span",{staticClass:"date"},[t._v(t._s(e.date))])],1)}),t._v(" "),a("StateComponent",{attrs:{loading:t.loading,loaded:t.loaded,empty:t.empty}})],2)},staticRenderFns:[]};var F=a("VU/8")(U,B,!1,function(t){a("5tAR")},"data-v-5eafd27f",null).exports;s.a.use(d.a);var N=new d.a({routes:[{path:"/",name:"index",component:f},{path:"/article",name:"article",component:$},{path:"/article/:id",name:"article-detail",component:k},{path:"/note",name:"note",component:E},{path:"/question",name:"question",component:I},{path:"/search",name:"search",component:F}]}),z=a("NYxO"),V=a("mtWM"),M=a.n(V),R=a("AXdl");s.a.use(z.a),s.a.use(R.a),s.a.prototype.$axios=M.a,s.a.config.productionTip=!1,s.a.use(R.a,{preLoad:1.3,error:"/static/default.png",loading:"/static/default.png",attempt:1});var J={state:{data:[],length:0,allData:[],maxSize:0,itemSize:20,page:0,loading:!1,loaded:!1},mutations:{setArticleData:function(t,e){t.allData=e.data,t.maxSize=t.allData.length},addArticleData:function(t,e){var a;(a=t.data).push.apply(a,n()(e)),t.length=t.data.length}},actions:{loadArticleData:function(t){if(!t.state.loaded){t.state.loading=!0;var e=t.state.page*t.state.itemSize,a=e+t.state.itemSize;a=a>t.state.maxSize?t.state.maxSize:a;var i=t.state.allData.slice(e,a);return t.state.loading=!1,a==t.state.maxSize&&(t.state.loaded=!0),t.state.page++,i}},loadArticleInfo:function(t,e){return t.state.allData.filter(function(t){return parseInt(t.fileId)==e})}}},Y=new z.a.Store({modules:{index:{state:{height:0},mutations:{setHeight:function(t,e){t.height=e}}},article:J,question:{state:{data:[],current:{},md:""},mutations:{setQuestionData:function(t,e){t.data=e.data,t.current=e.data[0]},setCurrentQuestion:function(t,e){t.current=e},setQuestionMD:function(t,e){t.md=e}}}}});new s.a({el:"#app",router:N,store:Y,components:{App:l},template:"<App/>"})},S6wu:function(t,e){},UJV0:function(t,e){},YdFA:function(t,e){},Yghb:function(t,e){},c6Ey:function(t,e){},"w+Im":function(t,e){},wqiN:function(t,e){},yqrN:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.5154d7f1a2a08a3b8cd8.js.map